<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UMKM Kelurahan Jeruk</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="asset/css/style.css" />
  <link
    href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans&family=Poppins&family=Raleway&family=Ubuntu&display=swap"
    rel="stylesheet" />
</head>

<body>

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg bg-white shadow-sm">
    <div class="container">
      <a class="navbar-brand p-0 m-0 d-flex align-items-center" href="#">
        <img src="asset/image/logo_umkm_jeruk.png" alt="Logo UMKM" class="logo-navbar" />
      </a>
    </div>
  </nav>

  <!-- HERO SECTION -->
  <section class="hero-section py-5">
    <br>
    <div class="container py-5">
      <div class="row align-items-center">
        <div class="col-lg-6 mb-4 mb-lg-0 pe-lg-5">
          <span class="display-5 fw-bold highlight-orange">Kelurahan Jeruk</span>
          <h1 class="display-5 fw-bold">
            Eksplorasi <span class="highlight-orange">UMKM Lokal</span> yang Berkualitas
          </h1>
          <p class="lead text-muted text-justify">
            Kelurahan Jeruk merupakan salah satu kelurahan yang terletak di wilayah Surabaya Timur, dikenal sebagai
            kawasan yang terus berkembang dengan semangat kebersamaan warganya. Wilayah ini memiliki potensi besar di
            bidang usaha mikro, kecil, dan menengah (UMKM) yang terus didorong melalui kegiatan pemberdayaan ekonomi
            masyarakat. Dengan lingkungan yang tertata dan masyarakat yang aktif, Kelurahan Jeruk menjadi contoh kawasan
            yang mendukung pertumbuhan ekonomi lokal sekaligus menjaga nilai-nilai kebudayaan dan gotong royong.
          </p>
        </div>
        <div class="col-lg-6 text-center position-relative ps-lg-5">
          <div class="hero-image-wrapper">
            <img src="asset/image/umkm.jpg" class="img-fluid" alt="UMKM Image" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SEARCH SECTION -->
  <section class="bg-white py-4">
    <div class="container">
      <form class="row g-2 align-items-end">
        <div class="col-md-4">
          <label for="kategori" class="form-label">Kategori UMKM</label>
          <select class="form-select" id="kategori">
            <option value="">Pilih Kategori</option>
            <option value="Kuliner">Kuliner</option>
            <option value="Kerajinan">Kerajinan</option>
            <option value="Jasa">Jasa</option>
          </select>
        </div>
        <div class="col-md-4">
          <label for="lokasi" class="form-label">Lokasi</label>
          <input type="text" class="form-control" id="lokasi" placeholder="Contoh: RT 03 RW 02" />
        </div>
        <div class="col-md-4">
          <label for="keyword" class="form-label">Pencarian</label>
          <div class="input-group">
            <input type="text" class="form-control" id="keyword" placeholder="Cari produk atau layanan..." />
            <button class="btn btn-orange" type="submit">Cari</button>
          </div>
        </div>
      </form>
    </div>
  </section>

  <!-- SECTION UMKM -->
  <section class="bg-light py-5">
    <div class="container">
      <div class="text-center mb-5">
        <h2 class="fw-bold">✨ UMKM Unggulan di Kelurahan Jeruk</h2>
        <p class="text-muted">Temukan UMKM terbaik yang dipercaya oleh warga sekitar.</p>
      </div>

      <div id="umkm-container" class="row g-4">
        <!-- Kartu UMKM akan dimasukkan di sini oleh JavaScript -->
      </div>

      <div class="text-end mt-5">
        <a href="#" class="btn btn-dark rounded-pill px-4 py-2 fw-semibold">^</a>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-orange text-white pt-5">
    <div class="container">
      <div class="row g-4">
        <div class="col-md-6">
          <h5 class="fw-bold">UMKM Kelurahan Jeruk</h5>
          <p class="text-white-50">
            Website ini bertujuan untuk mempromosikan UMKM lokal di Kelurahan Jeruk, Lakarsantri, Surabaya.
          </p>
          <div class="d-flex gap-3 mt-3">
            <a href="#" class="text-white fs-5"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="text-white fs-5"><i class="fab fa-instagram"></i></a>
            <a href="#" class="text-white fs-5"><i class="fab fa-whatsapp"></i></a>
          </div>
        </div>
        <div class="col-md-3">
          <h6 class="fw-semibold mb-3">Navigasi</h6>
          <ul class="list-unstyled">
            <li><a href="#" class="text-white-50 text-decoration-none d-block mb-1">Beranda</a></li>
            <li><a href="#" class="text-white-50 text-decoration-none d-block mb-1">UMKM Unggulan</a></li>
            <li><a href="#" class="text-white-50 text-decoration-none d-block">Kontak</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h6 class="fw-semibold mb-3">Kontak Kami</h6>
          <ul class="list-unstyled text-white-50">
            <li class="mb-2"><i class="fas fa-map-marker-alt me-2"></i>Kelurahan Jeruk, Lakarsantri</li>
            <li class="mb-2"><i class="fas fa-envelope me-2"></i>info@umkmjeruk.id</li>
            <li><i class="fas fa-phone me-2"></i>0812-3456-7890</li>
          </ul>
        </div>
      </div>

      <hr class="border-light mt-4" />
      <p class="text-center text-white-50 small mb-0">
        &copy; 2025 UMKM Jeruk — Dibuat untuk KKN UPN Veteran Jawa Timur
      </p>
    </div>
  </footer>

  <!-- SCRIPT -->
  <script>
    let umkmData = [];

    fetch('./data_umkm.json')
      .then(res => {
        if (!res.ok) throw new Error('Gagal mengambil data');
        return res.json();
      })
      .then(data => {
        umkmData = data;
        renderUMKM(data);
      })
      .catch(err => {
        console.error(err);
        document.getElementById('umkm-container').innerHTML = `<div class="col-12 text-center py-5"><h5 class="text-muted">Gagal memuat data UMKM. Silakan refresh halaman.</h5></div>`;
      });

    function renderUMKM(data) {
      const container = document.getElementById('umkm-container');
      container.innerHTML = '';

      if (data.length === 0) {
        container.innerHTML = `<div class="col-12 text-center py-5"><h5 class="text-muted">Tidak ada data yang cocok.</h5></div>`;
        return;
      }

      data.forEach(umkm => {
        container.innerHTML += `
          <div class="col-md-4">
            <div class="card shadow-sm border-0 h-100">
              <div class="position-relative">
                <img src="${umkm.image}" class="card-img-top" alt="${umkm.nama_umkm}">
              </div>
              <div class="card-body">
                <h5 class="card-title fw-bold">${umkm.nama_umkm}</h5>
                <div class="d-flex align-items-center mt-3">
                  <div>
                    <div class="fw-semibold">${umkm.pemilik}</div>
                    <small class="text-muted">${umkm.lokasi}</small>
                  </div>
                  <div class="ms-auto text-end">
                    <span class="badge rounded-pill bg-orange text-white mb-1 fs-6">${umkm.kategori}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>`;
      });
    }

    document.querySelector('form').addEventListener('submit', function (e) {
      e.preventDefault();

      const kategori = document.getElementById('kategori').value.trim().toLowerCase();
      const lokasi = document.getElementById('lokasi').value.trim().toLowerCase();
      const keyword = document.getElementById('keyword').value.trim().toLowerCase();

      const filtered = umkmData.filter(umkm => {
        const umkmKategori = umkm.kategori.toLowerCase();
        const umkmLokasi = umkm.lokasi.toLowerCase();
        const umkmNama = umkm.nama_umkm.toLowerCase();
        const umkmPemilik = umkm.pemilik.toLowerCase();

        const matchKategori = kategori === '' || umkmKategori === kategori;
        const matchLokasi = lokasi === '' || umkmLokasi.includes(lokasi);
        const matchKeyword = keyword === '' || umkmNama.includes(keyword) || umkmPemilik.includes(keyword);

        return matchKategori && matchLokasi && matchKeyword;
      });

      renderUMKM(filtered);
    });

  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>